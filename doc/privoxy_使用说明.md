###介绍

#####没有用保护伞，但简单介绍一下其核心privoxy 
http://bbs.kafan.cn/thread-1736016-1-1.html
保护伞不开源，也没有用过，所以没办法评价它
但从其官网看到是基于开源软件privoxy的，这个我正在用，可以介绍一下

privoxy的官网 www.privoxy.org
这个软件不能看作是广告拦截软件，它的实际类型应该是软路由，就是类似ccproxy之类（抱歉ccproxy也没用过，不知道这样举例正确否）
因为太久没看它的文档，下面是根据几年前看过的记忆小结的（约3.0.x版本）
privoxy主要功能
1.根据规则转向代{过}{滤}理，相当于autoproxy之类，好像只能用于http(s)协议，ftp等其他协议不适用
2.根据规则block掉一些内容，图片、css、js、flash或整个文档，规则基于网址url
3.根据规则过滤掉一些内容（部分而非全部），一般这个离不开载体的文档
4.根据规则修改、过滤一些http协议的header


privoxy和adblock的区别（这也是看别人分析的abd和自己理解privoxy的原理写的，出处没记下来）
firefox内核有一个功能是决定某个DOM元素是load还是unload，adb是调用这个进行拦截的，ie等就不清楚了
privoxy是作为软路由，就是在浏览器到privoxy时，判断符合上述功能2就直接返回空（其实非空，是privoxy预定内容），不向实际的网址发出请求，在以前的版本是返回404状态，最近更新了新版privoxy发现返回状态变成了403（个人觉得403更合理一些）；然后在文档返回，从privoxy到浏览器这个过程，对功能3根据规则进行数据替换，注意：是替换，就是数据会改动，但怎样改动由规则（就是用户）决定，是基于正则的；看到有人提到保护伞会改数据，特别在这里提一下，当然，改成自己谋利的（或更难接受的）我个人也不认同
从上面可以看到，adb是浏览器开始分析文档DOM树时实现，privoxy是浏览器分析DOM树前实现，这就是为何adb占用不少资源，但privoxy（或保护伞）占用较少资源的原因，也是adb只能作为浏览器扩展，而privoxy能作为系统全局（软路由当然可以做全局）的原因


其他功能：
功能1就不说了，会引起某些方面的不快，但要说的是privoxy本身不具备梯子功能，它只是转向，所以要爬出去还是要真实的梯子
功能4其实很强大，但一般人没什么用，我是因为很熟悉http协议，所以对我非常有用
举个简单例子吧，某岛国一些网站是检测访问者浏览器的语言的，中文浏览器就会返回403不能访问，我就用privoxy对这些网站写规则，发送header为日语，就能顺利访问了，就这么简单（其实换英文浏览器就能访问了）

privoxy不太适合一般用户，特别是过滤要写正则、拦截要自行分析网页的请求动作，很多规则写起来都很麻烦，前人写好的规则网上分享也基本接近0（只见过海外的）

###规则过滤
privoxy过滤规则
http://bbs.kafan.cn/thread-1736776-1-1.html
http://bbs.kafan.cn/forum.php?mod=viewthread&tid=1413566


###使用说明
配置好了端口启动就可以实现代理上了


###config 配置文件 
1、默认代理端口
listen-address  127.0.0.1:8118
accept-intercepted-requests 1【接受拦截请求】


###可用规则 
https://github.com/chenxsan/Privoxy

